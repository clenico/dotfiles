#!/usr/bin/env bash

get_model() {
if [[ -d "/system/app/" && -d "/system/priv-app" ]]; then
                model="$(getprop ro.product.brand) $(getprop ro.product.model)"

            elif [[ -f "/sys/devices/virtual/dmi/id/product_name" ||
                    -f "/sys/devices/virtual/dmi/id/product_version" ]]; then
                model="$(< /sys/devices/virtual/dmi/id/product_name)"
                # model+=" $(< /sys/devices/virtual/dmi/id/product_version)"

            elif [[ -f "/sys/firmware/devicetree/base/model" ]]; then
                model="$(< /sys/firmware/devicetree/base/model)"

            elif [[ -f "/tmp/sysinfo/model" ]]; then
                model="$(< /tmp/sysinfo/model)"
fi
}
get_model                       # get the laptop model


if [[ $model == "VivoBook_ASUSLaptop X580GD_N580GD 1.0" ]];then # config only on asus vivobook (15 inch)
:
elif [[ $model == "TP300LAB 1.0" ]];then                        # config only on asus tp300la (13 inch)
    xinput -disable "Atmel"
fi

# export $MODEL=$model
# On i3 use qt5ct to set Qt5 theme
[ "$XDG_CURRENT_DESKTOP" = "KDE" ] || [ "$XDG_CURRENT_DESKTOP" = "GNOME" ] || export QT_QPA_PLATFORMTHEME="qt5ct"

export EDITOR="emacsclient -a -c" # $EDITOR opens in terminal
export VISUAL="emacsclient -a -c" # $VISUAL opens in GUI mode
export PATH="${PATH}:/opt/OpenDrive"
export QT_SCREEN_SCALE_FACTORS=2
export SCREEN=$(xrandr | awk '($2 == "connected"){print $1}' | head -n 1)


test "$XDG_BIN_HOME"    || export XDG_BIN_HOME="$HOME/.local/bin"
test "$XDG_CACHE_HOME"  || export XDG_CACHE_HOME="$HOME/.cache"
test "$XDG_CONFIG_HOME" || export XDG_CONFIG_HOME="$HOME/.config"
test "$XDG_DATA_HOME"   || export XDG_DATA_HOME="$HOME/.local/share"
test "$XDG_LIB_HOME"    || export XDG_LIB_HOME="$HOME/.local/lib"
